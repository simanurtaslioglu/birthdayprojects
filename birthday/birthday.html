<!DOCTYPE html>

<html lang="tr">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Doğum Günü Sürprizi</title>

    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div class="container">

        <h1>Doğum Günün Kutlu Olsun!</h1>

        <button id="acilisButonu">Zarfları Aç!</button>



        <div id="zarfAlani" class="zarf-alani">

            </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script src="script.js"></script>
<script>
const acilisButonu = document.getElementById('acilisButonu');
const zarfAlani = document.getElementById('zarfAlani');
const maxSecimHakki = 2;
let acilanZarfSayisi = 0;
let mevcutGorseller = []; // Bu dizi, o tur için seçilen görselleri tutacak.

// Görsellerin listesi
const gorseller = [
    'img/1.jpg',
    'img/2.jpg',
    'img/3.jpg',
    'img/4.jpg',
    'img/5.jpg',
    'img/6.jpg'
];

// Rastgele 6 görsel seçme fonksiyonu
function rastgeleGorsellerSec(arr, num) {
    const shuffled = [...arr].sort(() => 0.5 - Math.random());
    return shuffled.slice(0, num);
}

// Zarfları oluşturma fonksiyonu
function zarflariOlustur() {
    zarfAlani.innerHTML = '';
    mevcutGorseller = rastgeleGorsellerSec(gorseller, 6); // Her tur için rastgele 6 görsel seç.

    for (let i = 0; i < 6; i++) {
        const zarfDiv = document.createElement('div');
        zarfDiv.classList.add('zarf');
        zarfDiv.dataset.gorsel = mevcutGorseller[i];

        const icDiv = document.createElement('div');
        icDiv.classList.add('ic');
        const img = document.createElement('img');
        img.src = mevcutGorseller[i];
        img.alt = "Sürpriz Görsel";
        icDiv.appendChild(img);

        zarfDiv.appendChild(icDiv);
        zarfAlani.appendChild(zarfDiv);
    }
}

// Zarf tıklama olayını yönetme
zarfAlani.addEventListener('click', function(event) {
    const tiklananZarf = event.target.closest('.zarf');

    if (!tiklananZarf || tiklananZarf.classList.contains('acildi') || acilanZarfSayisi >= maxSecimHakki) {
        return;
    }

    if (typeof confetti !== 'undefined') {
        confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 }
        });
    }

    tiklananZarf.classList.add('acildi');
    acilanZarfSayisi++;

    if (acilanZarfSayisi === maxSecimHakki) {
        setTimeout(() => {
            alert("İki zarfı da seçtin! Harika bir seçim!");
            setTimeout(basaSarsin, 3000);
        }, 1000);
    }
});

// Başlangıç butonu tıklama olayı
acilisButonu.addEventListener('click', function() {
    zarflariOlustur();
    this.style.display = 'none';
});

// Başa sarma fonksiyonu
function basaSarsin() {
    zarfAlani.innerHTML = '';
    acilanZarfSayisi = 0;
    acilisButonu.style.display = 'block';
    alert("Yeni bir sürpriz için hazırsın!");
    // Oyunu sıfırladıktan sonra, yeni zarflar oluşturulacak.
}

// Sayfa yüklendiğinde zarfları oluştur
document.addEventListener('DOMContentLoaded', () => {
    // Sayfa ilk yüklendiğinde otomatik olarak zarflar oluşturulsun.
    // İlk zarf setini hazırlamak için bu fonksiyonu çağırıyoruz.
});</script>

</body>
<style>
    body {
    font-family: 'Arial', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #f8f8f8;
    margin: 0;
}

.container {
    text-align: center;
    background-color: #fff;
    padding: 40px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

h1 {
    color: #e91e63;
    margin-bottom: 30px;
}

#acilisButonu {
    padding: 15px 30px;
    font-size: 1.2em;
    color: white;
    background-color: #4CAF50;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-bottom: 40px;
}

#acilisButonu:hover {
    background-color: #45a049;
}

.zarf-alani {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    justify-items: center;
    align-items: center;
    margin-top: 20px;
}

.zarf {
    width: 150px; /* Zarf boyutunu büyüttüm */
    height: 100px; /* Zarf boyutunu büyüttüm */
    background-color: #f39c12;
    border-radius: 5px;
    position: relative;
    cursor: pointer;
    overflow: hidden; /* İçeriğin zarftan taşmasını engeller */
    perspective: 1000px; /* 3D dönüşüm için */
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* Zarfın kapağı (ön yüzü) */
.zarf::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #e67e22; /* Kapağın rengi */
    border-radius: 5px;
    transform-origin: top;
    transition: transform 0.6s ease;
    z-index: 1; /* İçeriğin üstünde kalmasını sağlar */
}

/* Zarf açıldığında kapağı döndür */
.zarf.acildi::before {
    transform: rotateX(-180deg);
}

/* Zarfın içindeki içerik (görsel) */
.ic {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    height: 90%;
    opacity: 0;
    transition: opacity 0.6s ease;
}

/* Zarf açıldığında içeriği görünür yap */
.zarf.acildi .ic {
    opacity: 1;
}

.ic img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Görseli bozmadan sığdırır */
}
</style>
</html>

